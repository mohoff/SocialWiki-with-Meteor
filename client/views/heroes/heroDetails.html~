<template name="heroDetails">
  <div class="row heroDetails-row">
    <div class="heroDetails-heading col-xs-12">
      <img src={{srcPathType this}} class="heroDetails-type" alt="herotype" />
      <!--<h1><span class="hero-name">--><h1>{{hero.name}}</h1><!--</span></h1>-->
      <span><sub>{{hero.lineuporder}}</sub></span>
    </div>
  </div>

  <div class="row heroDetails-row">
    <!--<div class="col-xs-1"></div>-->
    <div class="col-xs-2"><!-- removed class "hero-avatar" (compared to heroRankings.html) -->
      <img src={{srcPathAvatar this}} class="img-responsive" alt="pic" />
    </div>
    <div class="col-xs-10 col-md-9"><!-- removed class "herooverview"-->
      <!-- description - should be stored in hero-collection too! -->
      <p>
        <span class="hero-surname">{{hero.surname}}:</span>
        Middle line Mage, who can deal massive area damage with his two heads.
      </p>
      <div class="heroDetails-divider"></div>
      <div class="hero-badges">
        {{#each hero.badges}}
          <span class="hero-badge">
            <span class="label label-primary">{{this}}</span>
          </span>
        {{/each}}
        {{#each hero.attributes}}
          <span class="hero-badge-or-synergy">
            <span class="label label-info">{{this}}</span>
          </span>
        {{/each}}
      </div><br />
    </div>
    <div class="col-xs-0 col-md-1"></div>
  </div>

  <div class="row heroDetails-row">
    <div class="col-xs-12 col-md-6">
      <h3>Synergies</h3>
      <div class="heroDetails-synergies">
        {{#each filteredAndSortedSynergies hero.synergy}}
          <div class="row heroDetails-synergy">
            <div class="col-xs-10">
              <p class="label-p" style="background-color: {{synergyLabelColor this}};">
                {{this.name}} ({{this.upvotes}}:{{this.downvotes}})
              </p>
            </div>
            <div class="col-xs-2 heroDetails-synergyControl">
              {{#if currentUser}}
                {{#with context=this parent=..}}
                  <a href="#" class="synergyVote">
                    <img src={{synergyVotedSrc context.name}} alt="synergy upvote button"/>
                  </a>
                  <a href="#" class="synergyDeleteVote">
                    <img src={{synergyDeleteVotedSrc context.name}} alt="synergy delete request button"/>
                  </a>
                {{/with}}
              {{/if}}
            </div>
          </div>
        {{/each}}
        {{#if currentUser}}
          <div class="row heroDetails-synergy">
            <div class="col-xs-12 addSynergyWrapper">
              <a href="#" class="addSynergy" data-toggle="modal" data-target="#addSynergyModal">
								<span class="glyphicon glyphicon-plus"></span>
                <!--<img src="/img_synergies/add-synergy.png" alt="synergy add button"/>-->
              </a>
            </div>
          </div>
        {{/if}}
      </div>
    </div>
    <div class="col-xs-12 col-md-6">
      <h3>Rankings</h3>
      <div class="heroDetails-rankings">
        <div class="col-xs-4">
          Arena<br />
          <span class="score">
            {{scoreHeroDetails this 'arena'}}
          </span>
        </div>
        <div class="col-xs-4">
          Crusade<br />
          <span class="score">
            {{scoreHeroDetails this 'crusade'}}
          </span>
        </div>
        <div class="col-xs-4">
          PvE & Farming<br />
          <span class="score">
            {{scoreHeroDetails this 'pvefarming'}}
          </span>
        </div>
      </div>
    </div>
  </div>

  <div class="row heroDetails-row">
    <div class="col-xs-12">
      <h3>Skills</h3>
      <div class="heroDetails-skills">
        <div class="row heroDetails-beforeSkills">
          <div class="col-md-5 col-xs-7">
          </div>
          <div class="col-md-7 col-xs-5 skillAttributeRow">
            <div class="col-md-4 col-xs-6">
            </div>
            <div class="col-md-2 hidden-sm hidden-xs">
              LVL 1
            </div>
            <div class="col-md-3 hidden-sm hidden-xs">
              per LVL
            </div>
            <div class="col-md-3 col-xs-6">
              at LVL 50
            </div>
          </div>
        </div>
        <div>
        {{#each skills hero.skills}}
          {{#with context=this parent=..}}
            <div class="row heroDetails-skill" style="background-color: {{skillBgColor context.order}}">
              <div class="col-md-5 col-xs-7">
                <div class="col-xs-4 skillImageWrapper">
                  <img src="{{skillImageSrc context.order parent.hero.name}}" class="img-responsive" alt="skill imgage" />
                </div>
                <div class="col-xs-8 skillNameAndDescWrapper">
                  <h4>{{context.name}}</h4>
                  {{#each context.types}}
                    <img src={{srcPathSkillType this}} alt="skill type" />
                  {{/each}}
                  <p>
                    {{context.desc}}
                  </p>
                </div>
              </div>
              <div class="col-md-7 col-xs-5">
                <div class="row skillAttributeRow">
                  <div class="col-md-4 col-xs-6">
                    Damage
                  </div>
                  <div class="col-md-2 hidden-sm hidden-xs">
                    400
                  </div>
                  <div class="col-md-3 hidden-sm hidden-xs">
                    30
                  </div>
                  <div class="col-md-3 col-xs-6">
                    10000
                  </div>
                </div>
              </div>
            </div>
          {{/with}}
        {{/each}}
        </div>
      </div>
    </div>
  </div>

  <div class="row heroDetails-row">
    <div class="col-xs-12">
      <h3>Stats Details</h3>
      <!--
      <span class="italic">
        Stats are very vague. There are no official numbers or formulas
        in how far the primary stats (STR, INT, AGI) affect the secondary
        ones (HP, Armor, ...). If you have more exact information, feel
        free to contact me. Thank you.
      </span>
      -->
    </div>
  </div>
  <div class="row heroDetails-row">
    <div class="col-xs-6">
      <div class="row">
        <div class="col-xs-12 form-inline" id="forWrapper">
          <label for="forLevelInput" class="control-label" id="forLevelLabel">
            for Level
            <input type="number" class="form-control input-sm" id="forLevelInput" value={{forLevelValue}} min="1" max="90" />
          </label>
          <label for="forStarInput" class="control-label" id="forStarLabel">
            and
            <input type="number" class="form-control input-sm" id="forStarInput" value={{forStarValue}} min="1" max="5" />
            Stars
          </label>
        </div>
      </div>
      {{#with stats}}
      <p><span class="bold">HP:</span> {{hp}}</p>
      <p><span class="bold">Attack Power:</span> {{ad}}</p>
      <p><span class="bold">Magic Power:</span> {{ap}}</p>
      <p><span class="bold">Armor:</span> {{armor}}</p>
      <p><span class="bold">Magic Resistance:</span> {{mres}}</p>
      <p><span class="bold">Physical Crit:</span> {{crit}}</p>
      <p><span class="bold">Magic Crit:</span><span class="statsBasedOnItems"> depends on equipped items</span></p>
      <p><span class="bold">Ignored Magic Resistance:</span><span class="statsBasedOnItems"> depends on equipped items</span></p>
      <p><span class="bold">Life Steal:</span><span class="statsBasedOnItems"> depends on equipped items</span></p>
      <p><span class="bold">HP Regeneration:</span><span class="statsBasedOnItems"> depends on equipped items</span></p>
      <p><span class="bold">Energy Regeneration:</span><span class="statsBasedOnItems"> depends on equipped items</span></p>
      <p><span class="bold">Dodge:</span><span class="statsBasedOnItems"> depends on equipped items</span></p>
      {{/with}}
    </div>
    <div id="growstats-chart" class="col-xs-6">
      <div id="chart" class="svg-container"></div>
    </div>
  </div>

  <!--
  <div id="body">
	  <div id="chart"></div>
  </div>
  -->








    <!--
    <a href="#" data-id={{_id}} data-votefor="crusade" data-votetype="up" class="upvote btn {{votedClass 'up' 'crusade'}}">UPVOTE</a><br />
    {{scoreCrusade}}<br />
    <a href="#" data-id={{_id}} data-votefor="crusade" data-votetype="down" class="downvote btn {{votedClass 'down' 'crusade'}}">DOWNVOTE</a><br />

    <img src={{path_to_avatar}} alt="pic" />
    CreatedAt: {{createdAt}}<br />
    CreatedFrom: {{createdFrom}}<br />
    UpdatedAt: {{updatedAt}}<br />
    UpdatedFrom: {{updatedFrom}}<br />
    Name: {{hero.name}}<br />
    Vorname: {{hero.surname}}<br />
    Growthstats / AGI: {{hero.growthstats.agi}}<br />
    Growthstats / INT: {{hero.growthstats.int}}<br />
    Growthstats / STR: {{hero.growthstats.str}}<br />
    Type: {{hero.type}}<br />
    Badges: {{#each hero.badges}}
              {{this}},
            {{/each}}<br />
    Lineup-Order: {{hero.lineuporder}}<br />
    Skills: {{#each hero.skills}}
              Skill / Name: {{this.name}}<br />
              Skill / Description: {{this.desc}}<br />
              Skill / Initial Damage: {{this.lvl1.damage}}<br />
              Skill / Damage per Lvl: {{this.perlvl.damage}}<br />
              ///////<br />
            {{/each}}
    Ratings // PvE: {{hero.ratings.pve.upvotes}}:{{hero.ratings.pve.downvotes}}<br />
    Ratings // Arena: {{hero.ratings.arena.upvotes}}:{{hero.ratings.arena.downvotes}}<br />
    Ratings // Crusade: {{hero.ratings.crusade.upvotes}}:{{hero.ratings.crusade.downvotes}}<br />
    Synergy: {{#each hero.synergy}}
               {{this.name}}, Ups: {{this.upvotes}}, Downs: {{this.downvotes}}
             {{/each}}<br />
  </div>
  <br />
  <br />
  -->

  <div class="modal fade" id="addSynergyModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="exampleModalLabel">Add a Synergy</h4>
        </div>
        <form id="addsynergyform">
          <div class="modal-body">
            <div class="form-group">
              <label for="name" class="control-label">Name (keyword/s or short explanation):</label>
              <!--<input type="text" class="form-control" id="name">-->
              <textarea class="form-control" id="name"></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Discard</button>
            <button type="submit" class="btn btn-primary">Add</button>
            <!--<input type="submit" name="Submit" class="btn btn-primary" />-->
          </div>
        </form>
      </div>
    </div>
  </div>
</template>
